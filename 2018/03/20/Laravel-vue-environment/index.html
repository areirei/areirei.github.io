<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Laravel+vue环境之项目内部署 · FullStackMan</title><meta name="description" content="本教程介绍在Laravel中部署vue"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/mylogo.jpg"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://areirei.github.io/atom.xml" title="FullStackMan"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/mylogo.jpg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://kuaibao.qq.com/s/MEDIANEWSLIST?chlid=6121989" target="_blank" class="nav-list-link">KUAIBAO</a></li><li class="nav-list-item"><a href="https://github.com/areirei" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Laravel+vue环境之项目内部署</h1><div class="post-info">Mar 20, 2018</div><div class="post-content"><p>本教程介绍在Laravel中部署vue，在Laravel包含了一些基本脚手架，以便使用Vue库更容易开始编写现代JavaScript 。Vue为使用组件构建强大的JavaScript应用程序提供了富有表现力的API。我们可以使用Laravel Mix轻松地将JavaScript组件编译成一个可以浏览器的JavaScript文件。<a id="more"></a></p>
<h1 id="创建laravel"><a href="#创建laravel" class="headerlink" title="创建laravel"></a>创建laravel</h1><p>首先，你要有一个<a href="https://getcomposer.org/download/" target="_blank" rel="external">composer</a>,然后，你便有了一个<a href="https://laravel.com/docs/5.6" target="_blank" rel="external">laravel</a>。<br>运行命令<code>composer create-project --prefer-dist laravel/laravel blog</code>创建一个新的laravel项目（具体创建laravel请到官网学习）。</p>
<h1 id="Hello-world"><a href="#Hello-world" class="headerlink" title="Hello world!"></a>Hello world!</h1><ol>
<li><p>打开命令行，进入你的项目内<code>cd blog</code></p>
</li>
<li><p>在开始前，由于各种你懂得原因，npm作为国外的node仓库安装工具，操作的时候可能会发生速度慢等各种问题，一般推荐用taobao源进行加速,后面代码同样加上后缀即可，下载项目默认依赖，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install  --registry=https://registry.npm.taobao.org</div></pre></td></tr></table></figure>
</li>
<li><p>下载vue路由管理，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install vue-router --save-dev</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>/resources/assets/js/components</code>中新建一个<code>HelloComponent.vue</code>自定义组件文件，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;h1&gt;Hello World!&lt;/h1&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">    export default&#123;</div><div class="line">        data()&#123;</div><div class="line">            return &#123;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>/resources/assets/js</code>下新建文件夹<code>router</code>,并在里面新建<code>hello.js</code>,并通过嵌套路由配置将<code>hello</code>路由映射到刚刚新创建的<code>HellowComponent</code>组件当中，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">import Vue from &apos;vue&apos;</div><div class="line">import VueRouter from &apos;vue-router&apos;</div><div class="line">Vue.use(VueRouter)</div><div class="line"></div><div class="line">export default new VueRouter(&#123;</div><div class="line">    saveScrollPosition: true,</div><div class="line">    routes: [</div><div class="line">        &#123;</div><div class="line">            name: &quot;hello&quot;,</div><div class="line">            path: &apos;/&apos;,</div><div class="line">            component: resolve =&gt;void(require([&apos;../components/HelloComponent.vue&apos;], resolve))</div><div class="line">        &#125;,</div><div class="line">    ]</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p>在当前laravel项目中<code>/resources/assets/js</code>下新建<code>hello.vue</code>,做为主界面，嵌套路由视图，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;template&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;h1&gt;Hello&lt;/h1&gt;</div><div class="line">        &lt;router-view&gt;&lt;/router-view&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/template&gt;</div><div class="line"></div><div class="line">&lt;script&gt;</div><div class="line">    export default&#123;</div><div class="line">        data()&#123;</div><div class="line">            return &#123;</div><div class="line"></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>接着在<code>/resources/assets/js</code>下新建<code>hello.js</code>，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">require(&apos;./bootstrap&apos;);</div><div class="line"></div><div class="line">window.Vue = require(&apos;vue&apos;);</div><div class="line"></div><div class="line">import Vue from &apos;vue&apos;</div><div class="line">import App from &apos;./hello.vue&apos;</div><div class="line">import router from &apos;./router/hello.js&apos;</div><div class="line">const app = new Vue(&#123;</div><div class="line">    el: &apos;#app&apos;,</div><div class="line">    router,</div><div class="line">    render: h=&gt;h(App)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>/resources/views</code>下新建<code>hello.blade.php</code>，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</div><div class="line">    &lt;meta name=&quot;csrf-token&quot; content=&quot;&#123;&#123; csrf_token() &#125;&#125;&quot;&gt;</div><div class="line">    &lt;title&gt;Hello&lt;/title&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;</div><div class="line">    &lt;script src=&quot;&#123;&#123; mix(&apos;js/manifest.js&apos;) &#125;&#125;&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;&#123;&#123; mix(&apos;js/vendor.js&apos;) &#125;&#125;&quot;&gt;&lt;/script&gt;</div><div class="line">    &lt;script src=&quot;&#123;&#123; mix(&apos;js/hello.js&apos;) &#125;&#125;&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div><div class="line">&lt;/html&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>在<code>/resources/routes/web.php</code>中新增路由，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Route::view(&apos;/hello&apos;,&apos;/hello&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>修改<code>webpack.mix.js</code>，代码如下。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mix.js(&apos;resources/assets/js/app.js&apos;, &apos;public/js&apos;)</div><div class="line">   .js(&apos;resources/assets/js/hello.js&apos;, &apos;public/js&apos;)</div><div class="line">   .extract([&apos;vue&apos;, &quot;vue-router&quot;, &quot;axios&quot;])</div><div class="line">   .sass(&apos;resources/assets/sass/app.scss&apos;, &apos;public/css&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>保存后在命令行中本项目目录下执行<code>npm run watch</code>,进行重新编译</p>
</li>
<li><p>可以在命令行中本项目目录下输入<code>php artisan serve</code>,访问<code>http://127.0.0.1:8000/hello</code>即可看到效果</p>
</li>
</ol>
<div class="tip">laravel5.5起新增了<code>Route::view</code>和<code>Route::redirect</code>方法，5.4及以下的路由可以写成这样<code>Route::get(&#39;/hello&#39;, function () {return view(&#39;hello&#39;);});</code></div>

<h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>有时候运行npm时会提示<code>Write EIO</code>错误，可能是因为编码的问题造成，这种时候可用管理员身份运行命令行文件，或者运行<code>chcp 850</code>设置活动代码页编号，介绍在laravel中部署vue的教程基本结束，如果您有兴趣了解更多关于编写Vue组件的信息,你可以阅读<a href="https://vuejs.org/v2/guide/" target="_blank" rel="external">Vue文档</a>,就酱。<br> (•ㅂ•)/♥  共勉~</p>
<p>#参考链接<br><a href="https://laravel.com/docs/5.6" target="_blank" rel="external">Laravel 官方文档</a><br><a href="https://areirei.github.io/2018/03/20/Laravel-vue-environment/">原文链接</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/03/26/Linux-mysql-install/" class="prev">上一篇</a><a href="/2018/01/02/Laravel-role-middleware/" class="next">下一篇</a></div><div class="copyright"><p>© 2016 - 2018 <a href="https://areirei.github.io">FullStackMan</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>